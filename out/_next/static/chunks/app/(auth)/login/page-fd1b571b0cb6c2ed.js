(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{3944:function(e,s,t){Promise.resolve().then(t.bind(t,1321))},1321:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var r=t(7437),n=t(2265),a=t(4033),l=t(1852),i=t(7865);let u=(0,i.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),o=(0,i.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),c=(0,i.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);function d(){let e=(0,a.useRouter)(),{signIn:s}=(0,l.useAuth)(),[t,i]=(0,n.useState)(""),[d,m]=(0,n.useState)(""),[h,x]=(0,n.useState)(!1),[p,f]=(0,n.useState)(null),y=async r=>{r.preventDefault(),f(null),x(!0);try{let{error:r}=await s(t,d);if(r)throw r;e.push("/timesheets")}catch(e){f(e.message||"An error occurred during sign in")}finally{x(!1)}};return(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),(0,r.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your credentials to access the timesheet system"})]}),p&&(0,r.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(u,{className:"h-5 w-5 text-red-400"})}),(0,r.jsx)("div",{className:"ml-3",children:(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:p})})]})}),(0,r.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:y,children:[(0,r.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(o,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:e=>i(e.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-3 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(c,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:d,onChange:e=>m(e.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-3 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password"})]})]})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("button",{type:"submit",disabled:h,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[h?(0,r.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,r.jsx)("div",{className:"h-5 w-5 border-t-2 border-b-2 border-white rounded-full animate-spin"})}):(0,r.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,r.jsx)(c,{className:"h-5 w-5 text-blue-500 group-hover:text-blue-400"})}),h?"Signing in...":"Sign in"]})})]})]})}function m(){return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsx)(d,{})})}},1852:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o},useAuth:function(){return u}});var r=t(7437),n=t(2265),a=t(4033),l=t(849);let i=(0,n.createContext)({user:null,loading:!0,signIn:async()=>({error:null}),signOut:async()=>{}}),u=()=>(0,n.useContext)(i);function o(e){let{children:s}=e,[t,u]=(0,n.useState)(null),[o,c]=(0,n.useState)(!0),d=(0,a.useRouter)();(0,n.useEffect)(()=>{let e=async()=>{let{data:e}=await l.O.auth.getUser();u(e.user),c(!1)};e();let{data:s}=l.O.auth.onAuthStateChange((e,s)=>{var t;u(null!==(t=null==s?void 0:s.user)&&void 0!==t?t:null),c(!1)});return()=>{s.subscription.unsubscribe()}},[]);let m=async(e,s)=>{let{error:t}=await l.O.auth.signInWithPassword({email:e,password:s});return{error:t}},h=async()=>{await l.O.auth.signOut(),d.push("/login")};return(0,r.jsx)(i.Provider,{value:{user:t,loading:o,signIn:m,signOut:h},children:s})}},849:function(e,s,t){"use strict";t.d(s,{O:function(){return l}});var r=t(4756);let n="https://anefdwpxlcpjmoitebtr.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFuZWZkd3B4bGNwam1vaXRlYnRyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ0MDI0MzYsImV4cCI6MjA1OTk3ODQzNn0.1foYfAMCb0akkUSFHOoWfZBxdFcsjKlPWrSGToXKu-o";if(!n||!a)throw Error("Missing Supabase environment variables");let l=(0,r.eI)(n,a)},7865:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var r=t(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var l=(e,s)=>{let t=(0,r.forwardRef)(({color:t="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:u,children:o,...c},d)=>(0,r.createElement)("svg",{ref:d,...n,width:l,height:l,stroke:t,strokeWidth:u?24*Number(i)/Number(l):i,className:`lucide lucide-${a(e)}`,...c},[...s.map(([e,s])=>(0,r.createElement)(e,s)),...(Array.isArray(o)?o:[o])||[]]));return t.displayName=`${e}`,t}}},function(e){e.O(0,[82,971,596,744],function(){return e(e.s=3944)}),_N_E=e.O()}]);